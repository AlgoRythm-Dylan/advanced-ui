<!DOCTYPE html>
<head>
    <title>Advanced-UI test</title>
    <link href="advanced-dialog.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

    <button id="show-a-dialog">Show a Dialog</button>

    <button id="download-a-file">Download a file</button>

    <advanced-colorpicker></advanced-colorpicker>

    <template id="test-dialog" size="medium">
        <p slot="title">This is a dialog</p>
        <p>Test advanced dialog</p>
    </template>

</body>
<script type="module" src="advanced-colorpicker.js"></script>
<script type="module">
import { showDialog } from "./advanced-dialog.js";
import Deflate from "./deflate.js";
import BinaryWriter from "./binary-writer.js";

async function main(){
    document.getElementById("show-a-dialog").addEventListener("click", e => {
        showDialog("#test-dialog");
    });

    document.getElementById("download-a-file").addEventListener("click", e => {
        let writer = new BinaryWriter();
        writer.writeByte( 72);
        writer.writeByte(101);
        writer.writeByte(108);
        writer.writeByte(108);
        writer.writeByte(111);
        writer.writeByte( 32);
        writer.writeByte(119);
        writer.writeByte(111);
        writer.writeByte(114);
        writer.writeByte(108);
        writer.writeByte(100);
        let file = writer.blobify();
        console.log(writer);
        let a = document.createElement("a");
        a.href = URL.createObjectURL(file);
        a.download = "binary-writer.txt";
        a.click();
    });
}

addEventListener("load", main);

</script>